{% extends 'allifmaalcommonapp/base/uimainbase/allifmaaluibase.html'%}
{% load static %}
{% load allif_navigation_tags %}
{% block title %}
{% load humanize %}
{{title}}
{% endblock %}
{% block style %}
  
{%endblock%}
   
{% block body %}
   
<div class="allifmaal-main-container">
  
<div class="allifmaincontainer">

    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>

    <style>
        
        /* Dashboard specific styling */
        .analytics-card {
            background-color: #fff;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border-left: 5px solid;
            transition: transform 0.2s ease-in-out;
        }

        .analytics-card:hover {
            transform: translateY(-5px);
        }

        .allif-info-card-one { border-color: #0d6efd; }
        .allif-info-card-two { border-color: #dc3545; }
        .allif-info-card-three { border-color: #ffc107; }
        .allif-info-card-four { border-color: #0dcaf0; }
        .allif-info-card-five { border-color: #6c757d; }
        .allif-info-card-six { border-color: #f84cf2; }
      
       
        .card {
            background-color: #ffffff;
            border-radius: 0.75rem;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            height: auto;
            display: flex;
            flex-direction: column;
            border-bottom: 6px solid #3182ce;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2);
        }

        .allif-info-card-heading{
            font-size:1em;
            text-align: left;
            font-weight: bold;
            
        }
.allif-info-cards-main-wrapper{
    margin-top: 0.1px;
    margin-left: 0.1em;
    margin-right: 0.1em;
   
   
    
}
    .allif_dashboard_spacer{
        margin-top: 1em;
        margin-bottom: 1em;
        height: 2px;
        background-color: #16b101; /* Light background for spacing */
    }

.allif_dashboard_card_header {
  background-color: #f6f7f8;
  color: #212529; /* Changed to a dark color for visibility */
  font-weight: bold;
  text-align: center;
  box-shadow: 0 4px 12px rgba(13, 110, 253, 0.15); /* A subtle blue shadow */
}
.allif_graph_main_wrapper{
    background-color: #f8f7f6;
}


.col-lg-2-custom {
    flex: 0 0 20%;
    max-width: 20%;
  }

  @media (max-width: 992px) {
    .col-lg-2-custom {
      flex: 0 0 50%;
      max-width: 50%;
    }
  }

  .analytics-card {
    background-color: #fff;
    border-radius: 8px;
    padding: 16px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    height: 100%;
  }

  .allif-info-card-heading {
    font-weight: bold;
    font-size: 1.1rem;
    margin-bottom: 12px;
  }

  .analytics-card a {
    font-size: 1.25rem;
    font-weight: 600;
    color: #333;
    text-decoration: none;
  }

  .analytics-card a:hover {
    text-decoration: underline;
  }

    </style>
    

    
<div>
        <!-- Top Horizontal Navbar -->
        <nav class="navbar navbar-expand-lg navbar-light bg-light rounded-4 shadow-sm mb-4">
            <div class="container-fluid">
              
                <a class="navbar-brand ms-3 d-none d-md-block" href="{% url 'allifmaalcommonapp:commonHome' user_var glblslug %}"> <strong> {{user_company}}</strong> Dashboard</a>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto">
                        <!-- Additional top nav links can go here -->
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'allifmaalcommonapp:commonHome' user_var glblslug %}">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'allifmaalcommonapp:commonHome' user_var glblslug %}">Dashboard</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarUserDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="bi bi-bell-fill"></i> Alerts
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarUserDropdown">
                                <li><a class="dropdown-item" href="{% url 'allifmaalcommonapp:commonHome' user_var glblslug %}">Informations</a></li>
                                <li><a class="dropdown-item" href="{% url 'allifmaalcommonapp:commonHome' user_var glblslug %}">Notifications</a></li>
                               
                            </ul>
                        </li>
                    </ul>
                </div>
                <div class="ms-auto me-3">
                    <div class="dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarProfileDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="bi bi-person-circle fs-4"> {{user_var}} </i>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarProfileDropdown">
                            <li><a class="dropdown-item" href="{% url 'allifmaalcommonapp:commonLoggedInUserDetails' user_var glblslug %}">A/C Details</a></li>
                          
                            <li><a class="dropdown-item" href="{% url 'allifmaalusersapp:userLogoutPage' %}">Logout</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>
</div>



<!-- Dashboard Analytics Cards -->
<div class="allif-info-cards-main-wrapper row g-4 mb-4">
  <!-- Card 1: Buildings -->
  <div class="col-md-6 col-lg-2-custom">
    <div class="analytics-card allif-info-card-one">
      {% block allif_info_card_one %}
      <div class="allif-info-card-heading">Buildings</div>
      <div class="d-flex align-items-center">
        <i class="bi bi-house-door-fill text-primary fs-2 me-3"></i>
        <div>
          <a href="{% allif_get_single_nav_link_url 'Spaces' user_var glblslug %}">{{value_card_one}}</a>
        </div>
      </div>
      {% endblock %}
    </div>
  </div>

  <!-- Card 2: Units -->
  <div class="col-md-6 col-lg-2-custom">
    <div class="analytics-card allif-info-card-two">
      {% block allif_info_card_two %}
      <div class="allif-info-card-heading">Units</div>
      <div class="d-flex align-items-center">
        <i class="bi bi-building text-danger fs-2 me-3"></i>
        <div>
          <a href="{% allif_get_single_nav_link_url 'SpaceUnits' user_var glblslug %}">{{value_card_two}}</a>
        </div>
      </div>
      {% endblock %}
    </div>
  </div>

  <!-- Card 3: Rented Units -->
  <div class="col-md-6 col-lg-2-custom">
    <div class="analytics-card allif-info-card-three">
      {% block allif_info_card_three %}
      <div class="allif-info-card-heading">Rented Units</div>
      <div class="d-flex align-items-center">
        <i class="bi bi-lock text-warning fs-2 me-3"></i>
        <div>
          <a href="{% allif_get_single_nav_link_url 'SpaceUnits' user_var glblslug %}">{{value_card_three}}</a>
        </div>
      </div>
      {% endblock %}
    </div>
  </div>

  <!-- Card 4: Vacant Units -->
  <div class="col-md-6 col-lg-2-custom">
    <div class="analytics-card allif-info-card-four">
      {% block allif_info_card_four %}
      <div class="allif-info-card-heading">Vacant Units</div>
      <div class="d-flex align-items-center">
        <i class="bi bi-door-open text-info fs-2 me-3"></i>
        <div>
          <a href="{% allif_get_single_nav_link_url 'SpaceUnits' user_var glblslug %}">{{value_card_four}}</a>
        </div>
      </div>
      {% endblock %}
    </div>
  </div>

  <!-- Card 5: Tenants -->
  <div class="col-md-6 col-lg-2-custom">
    <div class="analytics-card allif-info-card-five">
      {% block allif_info_card_five %}
      <div class="allif-info-card-heading">Tenants</div>
      <div class="d-flex align-items-center">
        <i class="bi bi-person text-secondary fs-2 me-3"></i>
        <div>
          <a href="{% allif_get_single_nav_link_url 'Clients' user_var glblslug %}">{{value_card_five}}</a>
        </div>
      </div>
      {% endblock %}
    </div>
  </div>
</div>


{% block allif_dashboard_full_table %}

<div class="allif_dashboard_spacer"></div>

<div class=" card allif-full-table-content-main-wrapper">
<div class="row mt-12"> <!--start....table row-->
  <div class="table-details-content-description">
    {% block allif_dashboard_full_table_main_header %}
    Vacant Units
    {% endblock %}
  
  </div>
<div class="col-md-12"> <!--start....table column-->
  <div class="allif-scroll-table">
    <div class="table-responsive allif-full-table">
    <table class="table table-layout" id="sortable-table">
      <thead class="allif-table-header-wrapper">
        <tr class="allif-table-header-row">

      {% block allif_dashboard_full_table_headers %}
        <td class="allif-fix-table-col"> Name </td>
        <td class="allif-table-header-td"> Description</td>
        <td class="allif-table-header-td"> Date </td>
        <td class="allif-table-header-td"> Status</td>
         {% endblock %}
        <td class="allif-table-header-td">Navigate</td>
      {% include 'allifmaalcommonapp/includes/tables/full-table-header-lower-section.html' %}
      
      {% for item in full_table_values %}  
        <tr data-id="{{item.id}}" class="allif-table-header-content-row">
        {% block allif_dashboard_full_table_content %}
        <td class="allif-fix-table-col">{% block list-table-content-seciton-links %}<a class="allif-table-links" href="{% url 'allifmaalcommonapp:commonSpaceUnitDetails' item.id user_var glblslug %}"> {{item.name}} - {{item.space}} </a>{%endblock%}</td>
        <td class="allif-table-content-td"> {{item.description}}<span class="badge bg-danger">Vacant</span> </td>
        <td class="allif-table-content-td"> {{item.date|date:'d/m/Y'}}</td>
        <td class="allif-table-content-td"> {{item.current_status}}</td>
        {% endblock %}
        <td class="allif-table-content-td">
           
        {% include 'allifmaalcommonapp/includes/tables/full-table-dropdown-upper-section.html' %}

        {% block allif_dashboard_full_table_content_dropdown_links %}
        <a href="{% allif_get_single_nav_link_url 'Transactions' user_var glblslug %}" class="dropdown-item" id="allif-table-drop-item-link">New Allocation</a>
        {% endblock %}

        {% include 'allifmaalcommonapp/includes/tables/full-table-lower-section.html' %}
        </td>
    </tr>
      {% endfor %}
    {% include 'allifmaalcommonapp/includes/tables/full-table-last-section.html' %}

      </div>
      {%endblock%}


  

    

{% block allif_dashboard_half_tables %}
<div class="allif_dashboard_spacer"></div>
<div class="row mt-12"> <!--start....table row-->
  <div class="row">
    
  <div class="col-md-6"> <!--start....table column-->
    <div class="table-content-description">
      {% block allif_dashboard_half_table_one_header %}
       <a href="" class="allif-table-links"> Under Maintenance </a> 
      {% endblock %}
      </div>
  <div class="allif-scroll-table">
    <div class="table-responsive allif-full-table">
    <table class="table table-layout">
      <thead>
        <tr class="allif-table-header-row">
          {% block allif_dashboard_half_table_one_headers %}
        <td class="allif-fix-table-col">Unit</td>
        <td>Building</td>
        <td>Date</td>
       {%endblock%}
        <td>Navigate</td>
        <td> . . . </td>
        <td></td>
        </tr>
        </thead>
        <tbody class="allif-table-body">
         
        
        {% for item in half_table_one_values %} 
        <tr data-id="{{item.id}}">
          {% block allif_dashboard_half_table_one_content %}
          <td class="allif-fix-table-col">
            <a href="{% url 'allifmaalcommonapp:commonSpaceUnitDetails' item.id user_var glblslug %}" class="allif-table-links">
            {{item.name}}
            </a>
           </td>
          <td>
            {{item.space}}
           </td>
        
        
         <td>
          {{item.date|date:'d/m/Y'}}
         </td>
         {%endblock%}
        <td>
          <div class="dropdown allifmaal-content-dropdown">
            <a href="#" onclick="showDropdown(event, this)" class="dropdown-toggle dropdown-item" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">{{open_link}}</a>
            <div class="dropdown-content">
              {% block allif_dashboard_half_table_one_content_dropdown_links %}
              <a href="{% url 'allifmaalcommonapp:commonEditSpaceUnit' item.id user_var glblslug %}" class="dropdown-item" id="allif-table-drop-item-link">Edit Item</a>
              {%endblock%}
             
            </div>
          </div>
      
        </td>

      
       
       <td> . . . </td>
       <td></td>
      </tr>
      {% endfor %}
      </tbody>
    </table>
    </div>
   </div>

</div><!--end....table column-->

<div class="col-md-6"> <!--start....table column-->
  <div class="table-content-description">  {% block allif_dashboard_half_table_two_header %}
       <a href="" class="allif-table-links"> Under Construction </a> 
      {% endblock %} </div>
  <div class="allif-scroll-table">
    <div class="table-responsive allif-full-table">
    <table class="table table-layout">
      <thead>
        <tr class="allif-table-header-row">
          {% block allif_dashboard_half_table_two_headers %}
        <td class="allif-fix-table-col">Unit</td>
        <td>Building</td>
        <td>Date</td>
        {%endblock%}
       
        <td>Navigate</td>
        <td> . . . </td>
        <td></td>
        </tr>
        </thead>
        <tbody class="allif-table-body">
         
           
        {% for item in half_table_two_values %} 
        <tr data-id="{{item.id}}">
          {% block allif_dashboard_half_table_two_content %}
          <td class="allif-fix-table-col">
            <a href="{% url 'allifmaalcommonapp:commonSpaceUnitDetails' item.id user_var glblslug %}" class="allif-table-links">
            {{item.name}}
            </a>
           </td>
          <td>
            {{item.space}}
           </td>
        
        
         <td>
          {{item.date|date:'d/m/Y'}}
         </td>
         {%endblock%}
        <td>
          <div class="dropdown allifmaal-content-dropdown">
            <a href="#" onclick="showDropdown(event, this)" class="dropdown-toggle dropdown-item" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">{{open_link}}</a>
            <div class="dropdown-content">
              {% block allif_dashboard_half_table_two_content_dropdown_links %}
              <a href="{% url 'allifmaalcommonapp:commonEditSpaceUnit' item.id user_var glblslug %}" class="dropdown-item" id="allif-table-drop-item-link">Edit Item</a>
              {%endblock%}
              
            </div>
          </div>
       

        </td>

      
       
       <td> . . . </td>
       <td></td>
      </tr>
      {% endfor %}
      </tbody>
    </table>
    </div>
   </div>

</div><!--end....table column-->

</div><!--end....table row-->
</div>
{%endblock%}

   

{% block allif_charts %}
<div class="allif_dashboard_spacer"></div>
    <!--start of first row-->
    <div class="row mt-4" >
        <div class="col-md-4">
            <div class="card">
                <div class="allif_dashboard_card_header card-header">
                  {% block allif_header_chart_one %}
                  Main Company Assets 
                  <a href="{% allif_get_single_nav_link_url 'Assets' user_var glblslug %}" class="allif-table-links">
                  
                  {{chart_one_total|floatformat:2|intcomma}}
                  </a>
                  {% endblock %}
                </div>
             
                <div class="col-md-12">
                    <div class="allif_graph_main_wrapper column">
                      
                      <canvas id="chartone" width="400" height="300"></canvas>
                              <script>
                                  var ctx33 = document.getElementById('chartone').getContext('2d');
                                  var chartone = new Chart(ctx33, {
                                      type: 'doughnut',

                                      data: {
                                        labels: {% block allif_item_chart_one %} [{% for items in chart_one_values %} '{{items.name|truncatewords:2}}', {% endfor %}], {% endblock%}

                                          datasets: [{
                                            
                                              label: 'Current Prospects',
                                              data: {% block allif_figure_chart_one %} [{% for items in chart_one_values %} {{items.value}}, {% endfor %}], {% endblock %}
                                              backgroundColor: [
                                                'rgb(20, 70, 174)',
                                                'rgb(35, 150, 92)',
                                                  
                                                  'rgb(2, 7, 0)',
                                                  'rgba(54, 162, 235, 1)',
                                                  'rgb(118, 40, 28,1)',
                                                  'rgba(75, 192, 192, 1)',
                                                  'rgba(153, 102, 255, 1)',
                                                  'rgb(254, 0, 181,1)',
                                                  
                                                  'rgb(121, 214, 1)',
                                                  'rgb(97, 7, 0)',
                                                  'rgb(255, 153, 1)',
                                                  'rgb(2, 98, 115)',
                                                  'rgb(94, 89, 92)',
                                                  'rgb(116, 46, 88)',
                                                  'rgb(73, 42, 141)',
                                                  
                                              ],
                                              borderColor: [
                                                'rgb(2, 0, 174)',
                                                'rgb(35, 150, 92)',
                                                  
                                                  'rgb(2, 7, 0)',
                                                  'rgba(54, 162, 235, 1)',
                                                  'rgb(118, 40, 28,1)',
                                                  'rgba(75, 192, 192, 1)',
                                                  'rgba(153, 102, 255, 1)',
                                                  'rgb(254, 0, 181,1)',
                                                  
                                                  'rgb(121, 214, 1)',
                                                  'rgb(97, 7, 0)',
                                                  'rgb(255, 153, 1)',
                                                  'rgb(2, 98, 115)',
                                                  'rgb(94, 89, 92)',
                                                  'rgb(116, 46, 88)',
                                                  'rgb(73, 42, 141)',
                                              ],
                                              borderWidth: 1
                                          }]
                                      },
                                      options: {
                                          scales: {
                                              yAxes: [{
                                                  ticks: {
                                                      beginAtZero: true
                                                  }
                                              }]
                                          }
                                      }
                                  });
                              </script>
                    </div>
                    </div>





                
            </div>
        </div>
        

        <div class="col-md-4">
            <div class="card">
                <div class="allif_dashboard_card_header card-header">
                    {% block allif_header_chart_two %}
                  Main Expenses <a href="{% allif_get_single_nav_link_url 'Expenses' user_var glblslug %}" class="allif-table-links">
                  
                  {{chart_two_total|floatformat:2|intcomma}}
                  </a>
                  {% endblock %}
                </div>
                
                 

                <div class="col-md-12">
                    <div class="allif_graph_main_wrapper column">
                      
                      <canvas id="charttwo" width="400" height="300"></canvas>
                              <script>
                                  var ctx3 = document.getElementById('charttwo').getContext('2d');
                                  var charttwo = new Chart(ctx3, {
                                      type: 'bar',

                                      data: {
                                        labels: {% block allif_item_chart_two %} [{% for items in chart_two_values %} '{{items.customer.name|truncatewords:2}}', {% endfor %}], {% endblock%}

                                          datasets: [{
                                            
                                              label: 'Current Prospects',
                                              data: {% block allif_figure_chart_two %} [{% for items in chart_two_values %} {{items.amount}}, {% endfor %}], {% endblock %}
                                              backgroundColor: [
                                                'rgb(20, 70, 174)',
                                                'rgb(35, 150, 92)',
                                                  
                                                  'rgb(2, 7, 0)',
                                                  'rgba(54, 162, 235, 1)',
                                                  'rgb(118, 40, 28,1)',
                                                  'rgba(75, 192, 192, 1)',
                                                  'rgba(153, 102, 255, 1)',
                                                  'rgb(254, 0, 181,1)',
                                                  
                                                  'rgb(121, 214, 1)',
                                                  'rgb(97, 7, 0)',
                                                  'rgb(255, 153, 1)',
                                                  'rgb(2, 98, 115)',
                                                  'rgb(94, 89, 92)',
                                                  'rgb(116, 46, 88)',
                                                  'rgb(73, 42, 141)',
                                                  
                                              ],
                                              borderColor: [
                                                'rgb(2, 7, 174)',
                                                'rgb(35, 150, 92)',
                                                  
                                                  'rgb(2, 7, 0)',
                                                  'rgba(54, 162, 235, 1)',
                                                  'rgb(118, 40, 28,1)',
                                                  'rgba(75, 192, 192, 1)',
                                                  'rgba(153, 102, 255, 1)',
                                                  'rgb(254, 0, 181,1)',
                                                  
                                                  'rgb(121, 214, 1)',
                                                  'rgb(97, 7, 0)',
                                                  'rgb(255, 153, 1)',
                                                  'rgb(2, 98, 115)',
                                                  'rgb(94, 89, 92)',
                                                  'rgb(116, 46, 88)',
                                                  'rgb(73, 42, 141)',
                                              ],
                                              borderWidth: 1
                                          }]
                                      },
                                      options: {
                                          scales: {
                                              yAxes: [{
                                                  ticks: {
                                                      beginAtZero: true
                                                  }
                                              }]
                                          }
                                      }
                                  });
                              </script>
                    </div>
                    </div>


                    </div></div>
                    
                    <div class="col-md-4">
                    <div class="card">
                    <div class="allif_dashboard_card_header card-header">
                   {% block allif_header_chart_three %}
                  Posted Invoices: <a href="{% allif_get_single_nav_link_url 'Invoices' user_var glblslug %}" class="allif-table-links">
                  
                  {{chart_three_total|floatformat:2|intcomma}}
                  </a>
                  {% endblock %}
                    </div>
                    
                        <div class="allif_graph_main_wrapper column">
                          
                          <canvas id="chartthree" width="150" height="100"></canvas>
                                  <script>
                                      var ctx5 = document.getElementById('chartthree').getContext('2d');
                                      var chartthree = new Chart(ctx5, {
                                          type: 'pie',
                                          data: {
                                              labels:{% block allif_item_chart_three %} [{% for items in chart_three_values %} '{{items.name}}', {% endfor %}], {% endblock %}
                                              datasets: [{
                                                  label: 'Latest Posted Invoices',
                                                  data: {% block allif_figure_chart_three %}[{% for items in chart_three_values %} {{items.total}}, {% endfor %}], {% endblock %}
                                                  
                                                  backgroundColor: [
                                                  'rgb(2, 7, 174,0.5)',
                                                'rgb(35, 150, 92,1)',
                                                  
                                                  'rgb(2, 7, 0,1)',
                                                  'rgba(54, 162, 235, 1)',
                                                  'rgb(118, 40, 28,1)',
                                                  'rgba(75, 192, 192, 1)',
                                                  'rgba(153, 102, 255, 1)',
                                                  'rgb(254, 0, 181,1)',
                                                  
                                                  'rgb(121, 214, 1)',
                                                  'rgb(97, 7, 0)',
                                                  'rgb(255, 153, 1)',
                                                  'rgb(2, 98, 115)',
                                                  'rgb(94, 89, 92)',
                                                  'rgb(116, 46, 88)',
                                                  'rgb(73, 42, 141)',
                                                  ],
                                                  borderColor: [
                                                'rgb(2, 7, 174,1)',
                                                'rgb(35, 150, 92,1)',
                                                  
                                                  'rgb(2, 7, 0,1)',
                                                  'rgba(54, 162, 235, 1)',
                                                  'rgb(118, 40, 28,1)',
                                                  'rgba(75, 192, 192, 1)',
                                                  'rgba(153, 102, 255, 1)',
                                                  'rgb(254, 0, 181,1)',
                                                  
                                                  'rgb(121, 214, 1)',
                                                  'rgb(97, 7, 0)',
                                                  'rgb(255, 153, 1)',
                                                  'rgb(2, 98, 115)',
                                                  'rgb(94, 89, 92)',
                                                  'rgb(116, 46, 88)',
                                                  'rgb(73, 42, 141)',
                                              ],
                                                  borderWidth: 1
                                              }]
                                          },
                                          options: {
                                              scales: {
                                                  yAxes: [{
                                                      ticks: {
                                                          beginAtZero: true
                                                      }
                                                  }]
                                              }
                                          }
                                      });
                                  </script>
                        </div>
                        </div>

            </div>
        </div>

<div class="allif_dashboard_spacer"></div>
         <!--start of first row-->
    <div class="row mt-4" >
        <div class="col-md-4">
            <div class="card">
                <div class="allif_dashboard_card_header card-header">
                 {% block allif_header_chart_four %}
                  Cash Collected <a href="{% allif_get_single_nav_link_url 'CustomerPayments' user_var glblslug %}" class="allif-table-links">
                  
                  {{chart_four_total|floatformat:2|intcomma}}
                  </a>
                  {% endblock %}
                </div>
             
                <div class="col-md-12">
                    <div class="allif_graph_main_wrapper column">
                      
                      <canvas id="chartfour" width="400" height="300"></canvas>
                              <script>
                                  var ctx33 = document.getElementById('chartfour').getContext('2d');
                                  var chartfour = new Chart(ctx33, {
                                      type: 'bar',

                                      data: {
                                        labels: {% block allif_item_chart_four %} [{% for items in chart_four_values %} '{{items.description|truncatewords:2}}', {% endfor %}], {% endblock%}

                                          datasets: [{
                                            
                                              label: 'Current Prospects',
                                              data: {% block allif_figure_chart_four %} [{% for items in chart_four_values %} {{items.amount}}, {% endfor %}], {% endblock %}
                                              backgroundColor: [
                                                'rgb(2, 7, 174)',
                                                'rgb(35, 150, 92)',
                                                  
                                                  'rgb(2, 7, 0)',
                                                  'rgba(54, 162, 235, 1)',
                                                  'rgb(118, 40, 28,1)',
                                                  'rgba(75, 192, 192, 1)',
                                                  'rgba(153, 102, 255, 1)',
                                                  'rgb(254, 0, 181,1)',
                                                  
                                                  'rgb(121, 214, 1)',
                                                  'rgb(97, 7, 0)',
                                                  'rgb(255, 153, 1)',
                                                  'rgb(2, 98, 115)',
                                                  'rgb(94, 89, 92)',
                                                  'rgb(116, 46, 88)',
                                                  'rgb(73, 42, 141)',
                                                  
                                              ],
                                              borderColor: [
                                                'rgb(2, 7, 174)',
                                                'rgb(35, 150, 92)',
                                                  
                                                  'rgb(2, 7, 0)',
                                                  'rgba(54, 162, 235, 1)',
                                                  'rgb(118, 40, 28,1)',
                                                  'rgba(75, 192, 192, 1)',
                                                  'rgba(153, 102, 255, 1)',
                                                  'rgb(254, 0, 181,1)',
                                                  
                                                  'rgb(121, 214, 1)',
                                                  'rgb(97, 7, 0)',
                                                  'rgb(255, 153, 1)',
                                                  'rgb(2, 98, 115)',
                                                  'rgb(94, 89, 92)',
                                                  'rgb(116, 46, 88)',
                                                  'rgb(73, 42, 141)',
                                              ],
                                              borderWidth: 1
                                          }]
                                      },
                                      options: {
                                          scales: {
                                              yAxes: [{
                                                  ticks: {
                                                      beginAtZero: true
                                                  }
                                              }]
                                          }
                                      }
                                  });
                              </script>
                    </div>
                    </div>





                
            </div>
        </div>
        

        <div class="col-md-4">
            <div class="card">
                <div class="allif_dashboard_card_header card-header">
                   {% block allif_header_chart_five %}
                  Main Debtors <a href="{% allif_get_single_nav_link_url 'Customers' user_var glblslug %}" class="allif-table-links">
                  
                  {{chart_five_total|floatformat:2|intcomma}}
                  </a>
                  {% endblock %}
                </div>
                
                 

                <div class="col-md-12">
                    <div class="allif_graph_main_wrapper column">
                      
                      <canvas id="chartfive" width="400" height="300"></canvas>
                              <script>
                                  var ctx3 = document.getElementById('chartfive').getContext('2d');
                                  var chartfive = new Chart(ctx3, {
                                      type: 'bar',

                                      data: {
                                        labels: {% block allif_item_chart_five %} [{% for items in chart_five_values %} '{{items.customer.name|truncatewords:2}}', {% endfor %}], {% endblock%}

                                          datasets: [{
                                            
                                              label: 'Current Prospects',
                                              data: {% block allif_figure_chart_five %} [{% for items in chart_five_values %} {{items.balance}}, {% endfor %}], {% endblock %}
                                              backgroundColor: [
                                                'rgb(2, 7, 174)',
                                                'rgb(35, 150, 92)',
                                                  
                                                  'rgb(2, 7, 0)',
                                                  'rgba(54, 162, 235, 1)',
                                                  'rgb(118, 40, 28,1)',
                                                  'rgba(75, 192, 192, 1)',
                                                  'rgba(153, 102, 255, 1)',
                                                  'rgb(254, 0, 181,1)',
                                                  
                                                  'rgb(121, 214, 1)',
                                                  'rgb(97, 7, 0)',
                                                  'rgb(255, 153, 1)',
                                                  'rgb(2, 98, 115)',
                                                  'rgb(94, 89, 92)',
                                                  'rgb(116, 46, 88)',
                                                  'rgb(73, 42, 141)',
                                                  
                                              ],
                                              borderColor: [
                                                'rgb(2, 7, 174)',
                                                'rgb(35, 150, 92)',
                                                  
                                                  'rgb(2, 7, 0)',
                                                  'rgba(54, 162, 235, 1)',
                                                  'rgb(118, 40, 28,1)',
                                                  'rgba(75, 192, 192, 1)',
                                                  'rgba(153, 102, 255, 1)',
                                                  'rgb(254, 0, 181,1)',
                                                  
                                                  'rgb(121, 214, 1)',
                                                  'rgb(97, 7, 0)',
                                                  'rgb(255, 153, 1)',
                                                  'rgb(2, 98, 115)',
                                                  'rgb(94, 89, 92)',
                                                  'rgb(116, 46, 88)',
                                                  'rgb(73, 42, 141)',
                                              ],
                                              borderWidth: 1
                                          }]
                                      },
                                      options: {
                                          scales: {
                                              yAxes: [{
                                                  ticks: {
                                                      beginAtZero: true
                                                  }
                                              }]
                                          }
                                      }
                                  });
                              </script>
                    </div>
                    </div>


                    </div></div>
                    
                    <div class="col-md-4">
                    <div class="card">
                    <div class="allif_dashboard_card_header card-header">
                   {% block allif_header_chart_six %}
                  Main Creditors <a href="{% allif_get_single_nav_link_url 'Suppliers' user_var glblslug %}" class="allif-table-links">
                  
                  {{chart_six_total|floatformat:2|intcomma}}
                  </a>
                  {% endblock %}
                    </div>
                    
                        <div class="allif_graph_main_wrapper column">
                          
                          <canvas id="chartsix" width="150" height="100"></canvas>
                                  <script>
                                      var ctx5 = document.getElementById('chartsix').getContext('2d');
                                      var chartsix = new Chart(ctx5, {
                                          type: 'bar',
                                          data: {
                                              labels: {% block allif_item_chart_six %} [{% for items in chart_six_values %} '{{items.name}}', {% endfor %}], {% endblock %}
                                              datasets: [{
                                                  label: 'Latest Posted Invoices',
                                                  data: {% block allif_figure_chart_six %} [{% for items in chart_six_values %} {{items.balance}}, {% endfor %}], {% endblock %}
                                                  
                                                  backgroundColor: [
                                                  'rgb(2, 7, 174,0.5)',
                                                'rgb(35, 150, 92,1)',
                                                  
                                                  'rgb(2, 7, 0,1)',
                                                  'rgba(54, 162, 235, 1)',
                                                  'rgb(118, 40, 28,1)',
                                                  'rgba(75, 192, 192, 1)',
                                                  'rgba(153, 102, 255, 1)',
                                                  'rgb(254, 0, 181,1)',
                                                  
                                                  'rgb(121, 214, 1)',
                                                  'rgb(97, 7, 0)',
                                                  'rgb(255, 153, 1)',
                                                  'rgb(2, 98, 115)',
                                                  'rgb(94, 89, 92)',
                                                  'rgb(116, 46, 88)',
                                                  'rgb(73, 42, 141)',
                                                  ],
                                                  borderColor: [
                                                'rgb(2, 7, 174,1)',
                                                'rgb(35, 150, 92,1)',
                                                  
                                                  'rgb(2, 7, 0,1)',
                                                  'rgba(54, 162, 235, 1)',
                                                  'rgb(118, 40, 28,1)',
                                                  'rgba(75, 192, 192, 1)',
                                                  'rgba(153, 102, 255, 1)',
                                                  'rgb(254, 0, 181,1)',
                                                  
                                                  'rgb(121, 214, 1)',
                                                  'rgb(97, 7, 0)',
                                                  'rgb(255, 153, 1)',
                                                  'rgb(2, 98, 115)',
                                                  'rgb(94, 89, 92)',
                                                  'rgb(116, 46, 88)',
                                                  'rgb(73, 42, 141)',
                                              ],
                                                  borderWidth: 1
                                              }]
                                          },
                                          options: {
                                              scales: {
                                                  yAxes: [{
                                                      ticks: {
                                                          beginAtZero: true
                                                      }
                                                  }]
                                              }
                                          }
                                      });
                                  </script>
                        </div>
                        </div>

            </div>
        </div>
        {% endblock %}


  {% block allif_dashboard_small_tables_row_one %}
    <div class="allif_dashboard_spacer"></div>
                
  <div class="row mt-12" >

          <div class="col-md-4">
          <div class="card">
          <div class="card-header allif-dashboard-card-header">
            {% block allif_dashboard_small_table_one_title %}
           Top Staff: 
           <a href="{% allif_get_single_nav_link_url 'HRM' user_var glblslug %}" class="allif-table-links">
                  
            {{total_small_table_one|floatformat:2|intcomma}}
                  </a>
           {% endblock %}
          </div>
      
          <div class="col-md-12">
          <div class="column allif-dashboard-card-body">
          
        <div class="allif-scroll-table">
          <div class="table-responsive allif-full-table">
          <table class="table table-layout">
            <thead>
              <tr class="allif-table-header-row">
                {% block allif_dashboard_small_table_one_headers %}
             
              <td class="allif-table-header-td"> Staff</td>
            <td class="allif-table-header-td">Ratings </td>
          
              {% endblock %}
              </tr>
              </thead>
              <tbody class="allif-table-body">
              {% block allif_dashboard_small_table_one_content %}
              {% for item in small_table_one_values %} 
              <tr data-id="{{item.id}}">
              <td class="allif-table-content-td"><a class="allif-table-links" href="">{{item.first_name}}</a></td>
              <td class="allif-table-content-td">{{item.performance_counter|floatformat:2|intcomma}}
              </td>
            
          </tr>
          {% endfor %}
          {% endblock %}
          
            </tbody>
          </table>
          </div>
         </div>
      
    
      </div>
      </div>
      
      
      </div>
      </div>
      
      <div class="col-md-4">
        <div class="card">
        <div class="card-header allif-dashboard-card-header">
          Premium Customers: 
           <a href="{% allif_get_single_nav_link_url 'HRM' user_var glblslug %}" class="allif-table-links">
                  
            {{total_small_table_two|floatformat:2|intcomma}}
                  </a>
        </div>
    
        <div class="col-md-12">
        <div class="column allif-dashboard-card-body">
        
    
      <div class="allif-scroll-table">
        <div class="table-responsive allif-full-table">
        <table class="table table-layout">
          <thead>
           <tr class="allif-table-header-row">
                {% block allif_dashboard_small_table_two_headers %}
             
              <td class="allif-table-header-td"> Customer</td>
            <td class="allif-table-header-td">Turnover </td>
          
              {% endblock %}
              </tr>
              </thead>
              <tbody class="allif-table-body">
              {% block allif_dashboard_small_table_two_content %}
              {% for item in small_table_two_values %} 
              <tr data-id="{{item.id}}">
              <td class="allif-table-content-td"><a class="allif-table-links" href="">{{item.name}}</a></td>
              <td class="allif-table-content-td">{{item.turnover|floatformat:2|intcomma}}
              </td>
            
          </tr>
          {% endfor %}
          {% endblock %}
          </tbody>
        </table>
        </div>
       </div>
    
    
    </div>
    </div>
    
    
    </div>
    </div>
    
      
    <div class="col-md-4">
        <div class="card">
        <div class="card-header allif-dashboard-card-header">
          Premium Suppliers: <a href="{% allif_get_single_nav_link_url 'HRM' user_var glblslug %}" class="allif-table-links">
                  
            {{total_small_table_three|floatformat:2|intcomma}}
                  </a>
        </div>
     
        <div class="col-md-12">
        <div class="column allif-dashboard-card-body">
        
    
      <div class="allif-scroll-table">
        <div class="table-responsive allif-full-table">
        <table class="table table-layout">
          <thead>
           <tr class="allif-table-header-row">
                {% block allif_dashboard_small_table_three_headers %}
             
              <td class="allif-table-header-td">Supplier</td>
            <td class="allif-table-header-td">Turnover  </td>
          
              {% endblock %}
              </tr>
              </thead>
              <tbody class="allif-table-body">
              {% block allif_dashboard_small_table_three_content %}
              {% for item in small_table_three_values %} 
              <tr data-id="{{item.id}}">
              <td class="allif-table-content-td"><a class="allif-table-links" href="">{{item.name}}</a></td>
              <td class="allif-table-content-td">{{item.turnover|floatformat:2|intcomma}}
              </td>
            
          </tr>
          {% endfor %}
          {% endblock %}
          </tbody>
        </table>
        </div>
       </div>
    
    
    </div>
    </div>
    
    
    </div>
    </div>
    
      </div>
      {%endblock%}
      
      <!--end of first row-->
      {% block allif_dashboard_tables_two %}
     <div class="allif_dashboard_spacer"></div>
       <!--start of first row-->
       <div class="row mt-12" >
        <div class="col-md-4">
            <div class="card">
            <div class="card-header allif-dashboard-card-header">
              Premium Stock Items : <a href="{% allif_get_single_nav_link_url 'HRM' user_var glblslug %}" class="allif-table-links">
                  
            {{total_small_table_four|floatformat:2|intcomma}}
                  </a>
            </div>
         
            <div class="col-md-12">
            <div class="column allif-dashboard-card-body">
            
      
          <div class="allif-scroll-table">
            <div class="table-responsive allif-full-table">
            <table class="table table-layout">
              <thead>
               <tr class="allif-table-header-row">
                {% block allif_dashboard_small_table_four_headers %}
             
              <td class="allif-table-header-td"> Item</td>
            <td class="allif-table-header-td">Ratings </td>
          
              {% endblock %}
              </tr>
              </thead>
              <tbody class="allif-table-body">
              {% block allif_dashboard_small_table_four_content %}
              {% for item in small_table_four_values %} 
              <tr data-id="{{item.id}}">
              <td class="allif-table-content-td"><a class="allif-table-links" href="">{{item.name}}</a></td>
              <td class="allif-table-content-td">{{item.ratings|floatformat:2|intcomma}}
              </td>
            
          </tr>
          {% endfor %}
          {% endblock %}
              </tbody>
            </table>
            </div>
           </div>
        
      
        </div>
        </div>
        
        
        </div>
        </div>
        
       
        <div class="col-md-4">
            <div class="card">
            <div class="card-header allif-dashboard-card-header">
              Top Items Stockouts : <a href="{% allif_get_single_nav_link_url 'HRM' user_var glblslug %}" class="allif-table-links">
                  
            {{total_small_table_five|floatformat:2|intcomma}}
                  </a>
            </div>
        
            <div class="col-md-12">
            <div class="column allif-dashboard-card-body">
            
      
          <div class="allif-scroll-table">
            <div class="table-responsive allif-full-table">
            <table class="table table-layout">
              <thead>
              <tr class="allif-table-header-row">
                {% block allif_dashboard_small_table_five_headers %}
             
              <td class="allif-table-header-td"> Item</td>
            <td class="allif-table-header-td">Ratings </td>
          
              {% endblock %}
              </tr>
              </thead>
              <tbody class="allif-table-body">
              {% block allif_dashboard_small_table_five_content %}
              {% for item in small_table_five_values %} 
              <tr data-id="{{item.id}}">
              <td class="allif-table-content-td"><a class="allif-table-links" href="">{{item.name}}</a></td>
              <td class="allif-table-content-td">{{item.ratings|floatformat:2|intcomma}}
              </td>
            
          </tr>
          {% endfor %}
          {% endblock %}
              </tbody>
            </table>
            </div>
           </div>
        
      
        </div>
        </div>
        
        
        </div>
        </div>
        
        <div class="col-md-4">
            <div class="card">
            <div class="card-header allif-dashboard-card-header">
              Prospects  <a href="{% allif_get_single_nav_link_url 'HRM' user_var glblslug %}" class="allif-table-links">
                  
            {{total_small_table_six|floatformat:2|intcomma}}
                  </a>
            </div>
        
            <div class="col-md-12">
            <div class="column allif-dashboard-card-body">
            
      
          <div class="allif-scroll-table">
            <div class="table-responsive allif-full-table">
            <table class="table table-layout">
              <thead>
               <tr class="allif-table-header-row">
                {% block allif_dashboard_small_table_six_headers %}
             
              <td class="allif-table-header-td">Number</td>
            <td class="allif-table-header-td">Value </td>
          
              {% endblock %}
              </tr>
              </thead>
              <tbody class="allif-table-body">
              {% block allif_dashboard_small_table_six_content %}
              {% for item in small_table_six_values %} 
              <tr data-id="{{item.id}}">
              <td class="allif-table-content-td"><a class="allif-table-links" href="">{{item.number}}</a></td>
              <td class="allif-table-content-td">{{item.total|floatformat:2|intcomma}}
              </td>
            
          </tr>
          {% endfor %}
          {% endblock %}
              </tbody>
            </table>
            </div>
           </div>
        
      
        </div>
        </div>
        
        
        </div>
        </div>
        
      </div>
      
           {% endblock %}


    
</div><!--end of main container of the page-->

<div class="allif_dashboard_spacer"></div>
</div>




   {% endblock %}