{% extends 'allifmaalcommonapp/base/uimainbase/allifmaaluibase.html'%}
{% load humanize %}
{% block title %}
{{title}}
{% endblock %}
{% block style %}
{%endblock%}
{% block body %}
<div class="allifmaal-main-container">

<!--start....main headere-->
<div class="card-header">

<div class="row mt-12" ><!--start....header row-->

<div class="col-md-12"><!--start....header column-->

<div class="container-fluid amel-content-header">
<div class="dropdown allifmaal-content-dropdown">
  <a class="dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
  Actions
  </a>
  <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
    <div class="content-dropdown-menu">
    
      <li><a class="dropdown-item" href="{% url 'allifmaalcommonapp:commonAddTransitDetails' allifquery.id user_var glblslug %}">Edit Item</a></li>
      <li><a class="dropdown-item" href="{% url 'allifmaalcommonapp:commonAddShipmentItems' allifquery.id user_var glblslug %}">Add Shipments</a></li>
    <li><a class="dropdown-item" href="{% url 'allifmaalcommonapp:commonAddShipmentItems' allifquery.id user_var glblslug %}">Add Flights</a></li>
      <li><a class="dropdown-item" href="{% url 'allifmaalcommonapp:commonTransitToPdf' allifquery.id user_var glblslug %}">Generate pdf</a></li>

      <li><a class="dropdown-item body-delete-link" href="{% url 'allifmaalcommonapp:commonWantToDeleteTransit' allifquery.id user_var glblslug %}">Delete Item</a></li>

   </div>
  </ul>
</div>
<a href="{% url 'allifmaalcommonapp:commonHome' user_var glblslug %}">Home</a>

<a href="{% url 'allifmaalcommonapp:commonTransits' user_var glblslug %}">Transportations</a>


</div>

    </div><!--end....header column-->
  
  </div><!--end....header row-->

</div><!--end....main headere-->

  <div class="allifmaincontainer">
<div class="row mt-12"> <!--start....table row-->
  <div class="table-details-content-description">{{allifquery}} Shipment Details</div>
  <div class="col-md-12"> <!--start....table column-->
  <div class="allif-scroll-table">
    <div class="allif-info-tables">
      <div class="row"><!--start of row div --->
  <!--start of column two-->
  <div class="col-md-4">
    
      <!--start of the table here-->
      <div class="table-responsive">
      <table class="table table-layout">
      <tbody>
      <tr>
        <td class="allif-fix-table-col">Company</td>
        <td>{{allifquery.company}}</td>
        </tr>
      <tr>
        <td class="allif-fix-table-col">Division</td>
        <td>{{allifquery.division}}</td>
        </tr>
      <tr>
        <td class="allif-fix-table-col">Branch</td>
        <td>{{allifquery.branch}}</td>
        </tr>
        <tr>
          <td class="allif-fix-table-col">Department</td>
          <td>{{allifquery.department}}</td>
          </tr>
        
        <tr>
          <td class="allif-fix-table-col">Carrier</td>
          <td>{{allifquery.carrier}}</td>
          </tr>
     
          <tr>
            <td class="allif-fix-table-col">Transport number</td>
            <td>{{allifquery.shipment_number}}</td>
            </tr>
            <tr>
              <td class="allif-fix-table-col">Description</td>
              <td>{{allifquery.description}}</td>
              </tr>
            <tr>
              <td class="allif-fix-table-col">Status</td>
              <td>{{allifquery.status}}</td>
              </tr>
               <tr>
            <td class="allif-fix-table-col">Received On</td>
            <td>{{allifquery.received_on|date:'d/m/Y'}}</td>
            </tr>
        </tbody>
        </table>
      </div>
        </div>
           
    
     <!--start of column two-->
     <div class="col-md-4">
       <!--start of the table here-->
       <div class="allif-details-card table-responsive">
       <table class="table table-layout">
        <tbody>
          
          <tr>
            <td class="allif-fix-table-col">Expected</td>
            <td>{{allifquery.expected|date:'d/m/Y'}}</td>
            </tr>
                 <tr>
                <td class="allif-fix-table-col">Origin</td>
                <td>{{allifquery.origin}}</td>
                </tr>
                 <tr>
                <td class="allif-fix-table-col">Route</td>
                <td>{{allifquery.via}}</td>
                </tr>
                 <tr>
                <td class="allif-fix-table-col">Staff Dispatched</td>
                <td>{{allifquery.dispatched_by}}</td>
                </tr>
                 <tr>
                <td class="allif-fix-table-col">Staff Received</td>
                <td>{{allifquery.received_by}}</td>
                </tr>
                 <tr>
                <td class="allif-fix-table-col">Customer</td>
                <td>{{allifquery.customer}}</td>
                </tr>
                <tr>
                  <td class="allif-fix-table-col">Delivery Confirmed By</td>
                  <td>{{allifquery.delivery_confirmed_by_employee}}</td>
                  </tr>
                    
                <tr>
                  <td class="allif-fix-table-col">Exit Warehouse</td>
                  <td>{{allifquery.exit_warehouse}}</td>
                  </tr>
              <tr>
                <td class="allif-fix-table-col">Entry Warehouse</td>
                <td>{{allifquery.entry_warehouse}}</td>
                </tr>
       
          </tbody>
          </table>
          </div>
          </div>
    
    
     <!--start of column two-->
     <div class="col-md-4">
      <div class="allif-details-card table-responsive">
       <!--start of the table here-->
       <table class="table table-layout">
        <tbody>
          <tr>
            <td class="allif-fix-table-col">Destination</td>
            <td>{{allifquery.destination}}</td>
            </tr>

            <tr>
            <td class="allif-fix-table-col">Confirmed Customer</td>
            <td>{{allifquery.delivery_confirmed_by_customer}}</td>
            </tr>

            <tr>
              <td class="allif-fix-table-col">Supplier</td>
              <td>{{allifquery.supplier}}</td>
              </tr>
          <tr>
            <td class="allif-fix-table-col">Delivery Notes</td>
            <td>{{allifquery.delivery_notes}}</td>
            </tr>
                             
          <tr>
            <td class="allif-fix-table-col">Description</td>
            <td>{{allifquery.description}}</td>
            </tr>
          <tr>
            <td class="allif-fix-table-col">Created By</td>
            <td>{{allifquery.owner}}</td>
            </tr>
            <tr>
              <td class="allif-fix-table-col">Comments</td>
              <td>{{allifquery.comments}}</td>
          
          </tr> 
        
          </tbody>
          </table>
  </div>
    </div>
    </div><!--end of row div --->
      
        </div>

</div><!--end....table row-->
</div>
<!--end of table-->

</div><!--end of main container of the page....-->

<hr>

<div class="row mt-12"> <!--start....table row-->
  <div class="table-details-content-description">Add/Edit {{allifquery}} Shipment Details</div>
  <form method='POST' action=''>{% csrf_token %}
  <div class="col-md-12"> <!--start....table column-->
  <div class="allif-scroll-table">
    <div class="allif-info-tables">
      <div class="row"><!--start of row div --->
  <!--start of column two-->
  <div class="col-md-4">
    
      <!--start of the table here-->
      <div class="table-responsive">
      <table class="table table-layout">
      <tbody>

      <tr>
        <td class="allif-fix-table-col">Division</td>
        <td>{{form.division}}</td>
    
        </tr>
        
        <tr>
          <td class="allif-fix-table-col">Branch</td>
          <td>{{form.branch}}</td>
      
          </tr>
          <tr>
            <td class="allif-fix-table-col">Department</td>
            <td>{{form.department}}</td>
        
            </tr>
          <tr>
            <td class="allif-fix-table-col">Customer</td>
            <td>{{form.customer}}</td>
        
            </tr>
          
              
          <tr>
            <td class="allif-fix-table-col">Carrier</td>
            <td>{{form.carrier}}</td>
            </tr>
     
          <tr>
            <td class="allif-fix-table-col">Referrence No.</td>
            <td>{{form.shipment_number}}</td>
            </tr>
            <tr>
                <td class="allif-fix-table-col">Description</td>
                <td>{{form.description}}</td>
            
                </tr>
                 <tr>
                <td class="allif-fix-table-col">Origin</td>
                <td>{{form.origin}}</td>
                </tr>
            <tr>
              <td class="allif-fix-table-col">Destination</td>
              <td>{{form.destination}}</td>
              
             </tr>
          
        </tbody>
        </table>
      </div>
        </div>
           
    
     <!--start of column two-->
     <div class="col-md-4">
       <!--start of the table here-->
       <div class="allif-details-card table-responsive">
       <table class="table table-layout">
        <tbody>
         <tr>
            <td class="allif-fix-table-col">Received On</td>
            <td>{{form.received_on}}</td>
            </tr>

               <tr>
                <td class="allif-fix-table-col">Expected</td>
                <td>{{form.expected}}</td>
                </tr>
                
               <tr>
                <td class="allif-fix-table-col">Status</td>
                <td>{{form.status}}</td>
                </tr>
              
                 <tr>
                <td class="allif-fix-table-col">Route</td>
                <td>{{form.via}}</td>
                </tr>
                 <tr>
                <td class="allif-fix-table-col">Dispatched By</td>
                <td>{{form.dispatched_by}}</td>
                </tr>
                 <tr>
                <td class="allif-fix-table-col">Received By</td>
                <td>{{form.received_by}}</td>
                </tr>
                 
                
                    <tr>
                      <td class="allif-fix-table-col">Delivery Confirmed By</td>
                      <td>{{form.delivery_confirmed_by_employee}}</td>
                      </tr>
                     <tr>
                      <td class="allif-fix-table-col">Delivery Date</td>
                      <td>{{form.delivery_confirmation_date_time}}</td>
                      </tr>
                      
              
               
          </tbody>
          </table>
          </div>
          </div>
    
    
     <!--start of column two-->
     <div class="col-md-4">
      <div class="allif-details-card table-responsive">
       <!--start of the table here-->
       <table class="table table-layout">
        <tbody>
           <tr>
            <td class="allif-fix-table-col">Exit Point</td>
            <td>{{form.exit_warehouse}}</td>
            </tr>
             <tr>
          <td class="allif-fix-table-col">Entry Point</td>
          <td>{{form.entry_warehouse}}</td>
          </tr>
              <tr>
            <td class="allif-fix-table-col">Comments</td>
            <td>{{form.comments}}</td>
            </tr>

       
         

          <tr>
            <td class="allif-fix-table-col">Confirmed Customer</td>
            <td>{{form.delivery_confirmed_by_customer}}</td>
            </tr>

      <tr>
        <td class="allif-fix-table-col">Supplier</td>
        <td>{{form.supplier}}</td>
        </tr>
        <tr>
          <td class="allif-fix-table-col">Delivery Notes</td>
          <td>{{form.delivery_notes}}</td>
          </tr>
      
          <tr>
            <td class="allif-fix-table-col">Action</td>
            <td> <input type="submit" value='Save' class="btn btn-success allifmaal-submit-btn"></td>
        
            </tr>
          </tbody>
          </table>
  </div>
    </div>
    </div><!--end of row div --->
      
        </div>

</div><!--end....table row-->
</div>
</form>
<!--end of table-->

</div><!--end of main container of the page....-->

<hr>


  <div class="row mt-12"> <!--start....table row-->
      <div class="table-details-content-description">{{allifquery}} Shipment Items</div>
    <div class="col-md-12"><!--start of the first row body-->
      <div class="allif-form-container">
      
      <div class="row"><!--start of row div --->
        <div class="allif-scroll-table">
          <div class="table-responsive allif-full-table">
          <table class="table table-layout">
            <thead>
              <tr class="allif-table-header-row">
               
                <td>Item Description</td>
                <td>Details</td>
                <td>Quantity</td>
               
                <td>Origin</td>
                <td>Destination</td>
               <td>Status</td>
              <td>Navigate</td>
              
              <td> . . . </td>
              <td></td>
              </tr>
              </thead>
              <tbody class="allif-table-body">
             
              {% for item in allifqueryset %} 
              <tr data-id="{{item.id}}">
              <td><a class="allif-table-links" href="{% url 'allifmaalcommonapp:commonShipmentItemDetails' item.id user_var glblslug %}">{{item.items}}</a></td>
              <td>{{item.details}}</td>
              <td>{{item.quantity|floatformat:2|intcomma}}</td>
             
              <td>{{item.origin}}</td>
              <td>{{item.destination}}</td>
               {% if item.status == 'Delivered' %}
              <td id="allif-work-complete-column">
                {{item.status}}
              </td>
              {% else %}
              <td>
                {{item.status}}
              </td>
              {% endif %}
               <td>
                <div class="dropdown allifmaal-content-dropdown">
                  <a href="#" onclick="showDropdown(event, this)" class="dropdown-toggle dropdown-item" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">Options</a>
                  <div class="dropdown-content">
                    <a href="{% url 'allifmaalcommonapp:commonEditShipmentItem' item.id user_var glblslug %}" class="dropdown-item" id="allif-table-drop-item-link">Edit Item</a>
                    <a href="#" onclick="confirmDelete(this)" class="dropdown-item" id="allif-table-drop-item-link-delete">Delete Item</a>
                    
                  </div>
                </div>
                <div class="dropdown allif-confirm-action">
                  
                  <a href="{% url 'allifmaalcommonapp:commonAddShipmentItems' item.shipment.id user_var glblslug %}" id="allif-table-drop-item-link">No</a><span><strong> | </strong></span>
                  <a href="{% url 'allifmaalcommonapp:commonDeleteShipmentItem' item.id user_var glblslug %}" id="allif-confirm-delete">Confirm</a>
                </div>
      
               
              </td>
             <td> . . . </td>
             <td></td>
            
        
          </tr>
          {% endfor %}

         
            </tbody>
          </table>
          </div>
         </div>

        
                   
      <!--end of table-->
          
            </div><!--end of column 1-->
        
        </div><!--end of row div --->
            
        </div>
            </div><!--end of first row body....-->
<hr>

</div>
</div>
  {% block scripts %}

  {% endblock %}
   {% endblock %}
   
